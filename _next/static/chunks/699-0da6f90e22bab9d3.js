"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[699],{63272:function(e,l,s){s.d(l,{Z:function(){return o}});var t=s(85893),a=s(11163);s(67294);var i=s(77991),r=s(66240),n=s(78181),c=s(25675),d=s.n(c),h=s(92801),x=s(12229),o=e=>{let l=(0,a.useRouter)();switch(e.variant){case"simple":{let{tokenId:l,score:s,alphaImage:a,chillClaimed:r,orbsClaimed:c,onDetailClick:h}=e;return(0,t.jsxs)("div",{className:"relative mt-[122px] min-w-[280px] rounded-[15px] bg-[rgba(0,65,93,0.4)] px-[25px] pb-[13px] pt-[65px] backdrop-blur-md",children:[(0,t.jsx)("div",{className:"absolute -top-[122px] z-[1] w-[167px]",children:(0,t.jsx)(d(),{className:"mask-image",src:a,alt:"Chillwhale",width:180,height:180})}),(0,t.jsxs)("div",{className:"box",children:[(0,t.jsxs)("div",{className:"flex justify-between border-b border-solid border-white/30",children:[(0,t.jsxs)("div",{className:"flex flex-col pb-3",children:[(0,t.jsxs)("div",{className:"flex items-center text-2xl",children:[(0,t.jsx)("p",{className:"font-thin",children:"Chillwhale #"}),(0,t.jsx)("p",{className:"font-bold",children:(0,x.He)(l)})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1 text-xs leading-none text-dark-red",children:[(0,t.jsx)("p",{children:"Score"}),(0,t.jsx)("p",{className:"font-bold",children:s})]})]}),(0,t.jsx)("button",{className:"mt-[9px] h-max",onClick:()=>h(),children:(0,t.jsx)(i.Z,{variant:"fullscreen",width:20,height:20,fill:"#fff"})})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-2 py-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("p",{className:"text-sm font-light",children:r?"4725.4725... CHILL claimed":"Available CHILL claim: 4725.4725..."}),(0,t.jsx)(d(),{src:"/assets/chill_coin.gif",alt:"CHILL",width:20,height:20})]}),c?(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("p",{className:"text-xs font-light",children:"2 of 2 ORBs claimed"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(n.Z,{variant:"white",width:20,height:20}),(0,t.jsx)(n.Z,{variant:"white",width:20,height:20})]})]}):(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("p",{className:"text-xs font-light",children:"Available ORBs claim: 2 of 2"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(n.Z,{variant:"hollow",width:20,height:20}),(0,t.jsx)(n.Z,{variant:"hollow",width:20,height:20})]})]})]})]})]})}case"detailed":{let{tokenId:s,score:a,alphaImage:c,chillClaimed:o,orbsClaimed:m,selectedChillwhales:f,multiSelectStarted:p,selectChillwhale:u,unselectChillwhale:j,onDetailClick:g}=e;return(0,t.jsxs)("div",{className:"relative mt-[122px] min-w-[280px] rounded-[15px] bg-[rgba(0,65,93,0.4)] px-[25px] pb-[13px] pt-[65px] backdrop-blur-md",children:[(0,t.jsx)("div",{className:"absolute -top-[122px] z-[1] w-[167px]",children:(0,t.jsx)(d(),{className:"mask-image",src:c,alt:"Chillwhale",width:180,height:180})}),(0,t.jsxs)("div",{className:"box",children:[(0,t.jsxs)("div",{className:"flex justify-between border-b border-solid border-white/30",children:[(0,t.jsxs)("div",{className:"flex flex-col pb-3",children:[(0,t.jsxs)("div",{className:"flex items-center text-2xl",children:[(0,t.jsx)("p",{className:"font-thin",children:"Chillwhale #"}),(0,t.jsx)("p",{className:"font-bold",children:(0,x.He)(s)})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1 text-xs leading-none text-dark-red",children:[(0,t.jsx)("p",{className:"font-thin",children:"Score"}),(0,t.jsx)("p",{className:"font-bold",children:a})]})]}),(0,t.jsx)("button",{className:"mt-[9px] h-max",onClick:()=>g(),children:(0,t.jsx)(i.Z,{variant:"fullscreen",width:20,height:20,fill:"#fff"})})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-2 py-3",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,t.jsxs)("div",{className:"flex h-6 items-center justify-between",children:[(0,t.jsx)("p",{className:"text-xs font-light",children:o?"4725.4725... CHILL claimed":"Available CHILL claim: 4725.4725..."}),(0,t.jsx)(d(),{src:"/assets/chill_coin.gif",alt:"CHILL",width:20,height:20})]}),!o&&(0,t.jsx)("div",{className:"w-max",children:(0,t.jsx)(r.Z,{onClick:()=>l.push((0,h.Jw)(s)),disabled:!1,text:"Claim CHILL",type:"solid-pink"})})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,t.jsxs)("div",{className:"flex h-6 items-center justify-between",children:[(0,t.jsx)("p",{className:"text-xs font-light",children:m?"2 of 2 ORBs claimed":"Available ORBs claim: 2 of 2"}),!m&&p?(0,t.jsxs)("button",{className:"flex items-center gap-1",onClick:f.includes(s)?j:u,children:[(0,t.jsx)(d(),{src:f.includes(s)?"/assets/selected_magenta.svg":"/assets/selected_white.svg",alt:"selected",width:26,height:26}),(0,t.jsx)("div",{className:(0,h.AK)("whitespace-nowrap text-xs",f.includes(s)?"text-lukso-pink":"text-white opacity-30"),children:f.includes(s)?"2x":"0x"})]}):(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(n.Z,{variant:m?"white":"hollow",width:20,height:20}),(0,t.jsx)(n.Z,{variant:m?"white":"hollow",width:20,height:20})]})]}),!m&&!p&&(0,t.jsx)("div",{className:"w-max",children:(0,t.jsx)(r.Z,{onClick:()=>l.push((0,h.OS)([s])),disabled:m,text:"Claim 2 ORBs",type:"solid-pink"})})]})]})]})]})}}}},19606:function(e,l,s){s.d(l,{Z:function(){return r}});var t=s(85893),a=s(92801),i=s(19661);function r(){let{width:e,height:l}=(0,i.e)();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:(0,a.AK)("fixed bottom-0 left-0 right-0 top-0","bg-chillwhale-gray-500 bg-cover bg-center bg-no-repeat",e>l?"bg-[url('/assets/backgrounds/landscape/chillwhales_1280x804.png')]":"bg-[url('/assets/backgrounds/portrait/chillwhales_720x1147.png')]")}),(0,t.jsx)("div",{className:"absolute bottom-0 left-0 right-0 top-0 backdrop-blur-sm"})]})}},51782:function(e,l,s){s.d(l,{Z:function(){return R}});var t=s(85893),a=s(29726),i=s(78551),r=s(2130),n=s(90332),c=s(67294),d=s(58533),h=s(27206),x=s(4075),o=s(77991),m=s(12229),f=s(25675),p=s.n(f),u=s(41664),j=s.n(u),g=s(11163),v=s(4219),w=s(96035),N=s(66240),b=s(78181),y=s(76205),k=s(92801),C=s(27431);let L=(0,t.jsx)("hr",{className:"mt-3 w-full border-t border-white border-opacity-30"});var Z=e=>{let{tokenId:l,chillClaimed:s,orbsClaimed:a,image:i,attributes:r,priority:n=!1}=e,d=(0,g.useRouter)(),{account:h}=(0,v.i)(),{name:x,address:f,profileImage:u}=(0,w.E)(C.Lk,l),[Z,I]=(0,c.useState)(!1),_=(0,c.useMemo)(()=>r.reduce((e,l)=>{let{score:s}=l;return e+s},0),[r]);return(0,t.jsxs)("div",{className:"flex h-screen w-screen select-none items-center justify-center gap-1 text-white lg:h-full lg:w-full",children:[(0,t.jsxs)("div",{className:"flex h-full w-full flex-col justify-center bg-chillwhale-gray-500 px-5 pb-8 pt-16 lg:h-[600px] lg:w-[360px] lg:rounded-[15px] lg:bg-chillwhale-gray-600 lg:pt-8",children:[(0,t.jsxs)("div",{className:"flex items-start",children:[(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)("p",{className:"text-[30px] font-extra-light leading-[36px] tracking-normal",children:"Chillwhale #"}),(0,t.jsx)("p",{className:"text-[30px] font-extrabold leading-[36px] tracking-normal",children:(0,m.He)(l)})]}),(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)("p",{className:"text-sm font-thin leading-none text-dark-red",children:"Score"}),(0,t.jsx)("p",{className:"text-sm font-bold leading-none text-dark-red",children:_})]})]}),(0,t.jsx)(j(),{href:"https://universal.page/collections/lukso/".concat(C.Lk,"/").concat((0,m.He)(l)),target:"_blank",rel:"noopener noreferrer",className:"ml-auto h-[26px] w-[26px]",children:(0,t.jsx)(y.Z,{variant:"universal-page",width:26,height:26})})]}),L,(0,t.jsx)(p(),{src:i,alt:"Chillwhale",className:"mx-auto mt-6 object-contain object-center lg:hidden",priority:n,height:280,width:280}),(0,t.jsx)("div",{className:"my-4 grid w-full grid-cols-3 justify-between gap-4",children:r.map(e=>{let{key:l,value:s,rarity:a}=e;return(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm",children:l}),(0,t.jsx)("p",{className:"text-sm font-bold",children:s}),(0,t.jsx)("p",{className:"text-sm text-dark-red",children:"".concat(parseFloat(a).toFixed(2)," %")})]},l)})}),L,s?(0,t.jsx)("p",{className:"mt-4 text-sm font-light",children:"$CHILL claimed"}):(0,t.jsxs)("div",{className:"mt-4 flex flex-col gap-2",children:[(null==h?void 0:h.toLowerCase())===f.toLowerCase()?(0,t.jsx)("div",{className:"w-max",children:(0,t.jsx)(N.Z,{type:"solid-pink",text:"Claim $CHILL",onClick:()=>d.push((0,k.Jw)(l)),disabled:!1})}):(0,t.jsx)(t.Fragment,{}),(0,t.jsx)("p",{className:"text-sm font-light",children:"Available $CHILL claim: 4725,4725..."})]}),L,a?(0,t.jsxs)("div",{className:"mt-4 flex items-center justify-between",children:[(0,t.jsx)("p",{className:"text-sm font-light",children:"ORBS claimed"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(b.Z,{variant:"white",width:20,height:20}),(0,t.jsx)(b.Z,{variant:"white",width:20,height:20})]})]}):(0,t.jsxs)("div",{className:"mt-4 flex flex-col gap-2",children:[(null==h?void 0:h.toLowerCase())===f.toLowerCase()?(0,t.jsx)("div",{className:"w-max",children:(0,t.jsx)(N.Z,{type:"solid-pink",text:"Claim 2 ORBs",onClick:()=>d.push((0,k.OS)([l])),disabled:!1})}):(0,t.jsx)(t.Fragment,{}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("p",{className:"text-sm font-light",children:"Available ORB claim: 2 of 2"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(b.Z,{variant:"hollow",width:20,height:20}),(0,t.jsx)(b.Z,{variant:"hollow",width:20,height:20})]})]})]}),L,(0,t.jsxs)("div",{className:"mt-4 flex items-center text-xs",children:[u?Z?(0,t.jsx)("div",{className:"overflow-hidden rounded-full",children:(0,t.jsx)(o.Z,{variant:"profile-default",width:32,height:32})}):(0,t.jsx)(p(),{src:(0,k.pZ)(u),alt:"Profile",height:32,width:32,className:"rounded-full object-cover",onError:()=>I(!0)}):(0,t.jsx)("div",{className:"overflow-hidden rounded-full",children:(0,t.jsx)(o.Z,{variant:"profile-default",width:32,height:32})}),(0,t.jsxs)("span",{className:"ml-[10px] flex justify-center gap-2",children:[(0,t.jsx)("p",{children:"Owned by:"}),(0,t.jsx)("p",{children:x})]}),(0,t.jsx)(j(),{href:"/profile/".concat(f),target:"_self",className:"ml-auto",children:(0,t.jsx)("div",{className:"rounded-lg border border-white fill-white p-2 transition-all duration-300 ease-in-out hover:bg-white hover:fill-black",children:(0,t.jsx)(o.Z,{variant:"user",width:10,height:10})})})]})]}),(0,t.jsx)(p(),{src:i,alt:"Chillwhale",height:600,width:600,priority:n,className:"hidden rounded-[15px] bg-chillwhale-gray-600 object-contain lg:block"})]})},I=s(53319),_=s(67325),S=s(18570),H=s(94549),O=s(77933),R=e=>{let{tokenIds:l,extraOptions:s,getListItem:m}=e,{isModalOpen:f,modalId:p,openModal:u,closeModal:j}=(0,H.d)(),[g,v]=(0,c.useState)(O.yV.id),[w,N]=(0,c.useState)(O.N9.asc),[b,y]=(0,c.useState)(""),[L,R]=(0,c.useState)([]),[P,B]=(0,c.useState)(),[A,F]=(0,c.useState)(),[E,M]=(0,c.useState)([]),{data:q,isLoading:z,fetchNextPage:J,hasNextPage:K}=(0,a.N)({queryKey:["chillwhales",JSON.stringify(l),g,w,b,JSON.stringify(L),P,A],queryFn:async e=>{let{pageParam:s}=e,t="https://graph.chillwhales.dev/subgraphs/name/chillwhales_v3";if(!t)return console.error("Undefined `SUBGRAPH_URL` in environment variables."),{chillwhales:[]};try{if("score"===g){let e=(await (0,r.ZP)(t,O.jH,{skip:0,first:l.length,orderBy:O.yV.id,orderDirection:w,where:{id_in:l,name_contains_nocase:b,attributes_contains_nocase:L.map(e=>{let{key:l,value:s}=e;return"".concat(C.Lk.toLowerCase()," - ").concat(l," - ").concat(s)}),...void 0!==P&&{chillClaimed:!P},...void 0!==A&&{orbsClaimed:!A}}})).chillwhales.sort((e,l)=>l.attributes.reduce((e,l)=>{let{score:s}=l;return e+s},0)-e.attributes.reduce((e,l)=>{let{score:s}=l;return e+s},0)).slice(6*s,6*(s+1));return{chillwhales:e,...0!==s&&{previousId:s-1},...0!==e.length&&6===e.length&&{nextId:s+1}}}{let{chillwhales:e}=await (0,r.ZP)(t,O.jH,{skip:6*s,first:6,orderBy:g,orderDirection:w,where:{id_in:l,name_contains_nocase:b,attributes_contains_nocase:L.map(e=>{let{key:l,value:s}=e;return"".concat(C.Lk.toLowerCase()," - ").concat(l," - ").concat(s)}),...void 0!==P&&{chillClaimed:!P},...void 0!==A&&{orbsClaimed:!A}}});return{chillwhales:e,...0!==s&&{previousId:s-1},...0!==e.length&&6===e.length&&{nextId:s+1}}}}catch(e){return console.error("Failed to get chillwhales from subraph.",e),{chillwhales:[]}}},initialPageParam:0,getPreviousPageParam:e=>e.previousId,getNextPageParam:e=>e.nextId});(0,c.useEffect)(()=>{q?M(q.pages.flatMap(e=>{let{chillwhales:l}=e;return l})):M([])},[q]);let{data:V}=(0,i.a)({queryKey:["attributes",C.Lk],queryFn:async()=>{try{let{attributes:e}=await (0,r.ZP)("https://graph.chillwhales.dev/subgraphs/name/chillwhales_v3",O.l4,{collectionAddress:C.Lk.toLowerCase(),first:1e3,skip:0});return[...new Set(e.map(e=>{let{key:l}=e;return l}))].map(l=>({type:l,values:e.filter(e=>{let{key:s}=e;return s===l}).map(e=>{let{value:l,rarity:s,score:t}=e;return{name:l,rarity:parseFloat(s),score:t}})}))}catch(e){return console.error("Failed getting chillwhales attributes from the subgraph",e),[]}}});return(0,t.jsxs)("div",{className:"flex flex-col",children:[l.length&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"relative mb-4 flex w-full justify-center",children:(0,t.jsx)("div",{className:"w-[320px]",children:(0,t.jsx)(S.Z,{placeholder:"Search chillwhales...",onSearch:e=>{y(e)}})})}),(0,t.jsxs)("div",{className:"relative flex w-full flex-col items-center justify-center gap-2 pb-12",children:[s&&s,(0,t.jsxs)("div",{className:"flex flex-wrap justify-center gap-2",children:[(0,t.jsx)(_.Z,{placeholder:"View",list:[{name:"All",func:()=>(B(void 0),F(void 0))},{name:"CHILL",func:()=>(B(!0),F(void 0))},{name:"ORBS",func:()=>(B(void 0),F(!0))},{name:"CHILL & ORBS",func:()=>(B(!0),F(!0))}]}),(0,t.jsx)(_.Z,{placeholder:"Sort by",list:[{name:"Name",func:()=>(v(O.yV.id),N(O.N9.asc))},{name:"Score",func:()=>v("score")}]}),V&&(0,t.jsx)(h.Z,{attributes:V,onClick:e=>{let{key:l,value:s}=e,t=new Map;L.forEach(e=>{let{key:l,value:s}=e;return t.set(l,{key:l,value:s})}),t.set(l,{key:l,value:s}),R([...t.values()])}})]}),(0,t.jsx)(x.Z,{attributes:L,onRemove:e=>{let{key:l}=e;return R(L.filter(e=>l!==e.key))}})]})]}),l.length?z?(0,t.jsxs)("div",{className:"relative flex flex-grow flex-col items-center justify-center overflow-hidden",children:[(0,t.jsx)(n.Z,{size:160,className:"animate-spin duration-1500"}),(0,t.jsx)("p",{className:"my-10 text-2xl font-thin",children:"Loading chillwhales..."})]}):E.length?(0,t.jsx)("div",{className:"mx-auto max-w-5xl",children:(0,t.jsx)(d.Z,{className:"!overflow-hidden",dataLength:E.length,next:J,hasMore:K,loader:(0,t.jsxs)("div",{className:"relative mt-8 flex flex-col items-center justify-center gap-2",children:[(0,t.jsx)("p",{className:"text-lg font-thin",children:"Loading..."}),(0,t.jsx)(n.Z,{size:64,className:"animate-spin duration-1500"})]}),children:(0,t.jsx)("div",{className:"grid grid-cols-1 gap-12 sm:grid-cols-2 lg:grid-cols-3",children:E.map(e=>(0,t.jsx)("div",{children:m(e,u)},e.tokenId))})})}):(0,t.jsxs)("div",{className:"relative flex flex-grow flex-col items-center justify-center",children:[(0,t.jsx)("p",{className:"my-10 px-10 text-center text-xl font-light",children:"No search results found"}),(0,t.jsx)("div",{className:"mx-auto flex justify-center text-center",children:(0,t.jsx)(o.Z,{variant:"big-x",width:250,height:250})})]}):(0,t.jsxs)("div",{className:"relative flex flex-grow flex-col items-center justify-center",children:[(0,t.jsx)("p",{className:"my-10 px-10 text-center text-xl font-light",children:"Profile has no chillwhales"}),(0,t.jsx)("div",{className:"mx-auto flex justify-center text-center",children:(0,t.jsx)(o.Z,{variant:"big-x",width:250,height:250})})]}),E&&(0,t.jsx)(I.Z,{tokenIds:E.map(e=>{let{tokenId:l}=e;return l}),startIndex:E.map(e=>{let{tokenId:l}=e;return l}).indexOf(p),isOpen:f,closeModal:j,tokenIdDetails:(e,l)=>{var s,a,i,r,n;return(0,t.jsx)(Z,{tokenId:e,chillClaimed:(null===(s=E.find(l=>l.tokenId===e))||void 0===s?void 0:s.chillClaimed)||!1,orbsClaimed:(null===(a=E.find(l=>l.tokenId===e))||void 0===a?void 0:a.orbsClaimed)||!1,image:(0,k.pZ)((null===(r=E.find(l=>l.tokenId===e))||void 0===r?void 0:null===(i=r.alphaImage)||void 0===i?void 0:i.url)||""),attributes:(null===(n=E.find(l=>l.tokenId===e))||void 0===n?void 0:n.attributes)||[]})}})]})}}}]);