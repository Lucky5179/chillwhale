"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8372],{54979:function(e,s,t){t.d(s,{Z:function(){return u}});var l=t(85893),a=t(12229),r=t(90332),i=t(25675),n=t.n(i);t(67294);var c=t(44551),d=t(77991),o=t(66240),x=t(78181),h=t(71953),m=t(92801),u=e=>{let s=(0,c.J)(1e3*e.cooldownExpiry,(e,s,t,l)=>(l>9?l:"0"+l)+"d:"+(t>9?t:"0"+t)+"h:"+(s>9?s:"0"+s)+"m");switch(e.variant){case"simple":{let{id:t,faction:a,level:r,cooldownExpiry:i,score:n,onDetailClick:c}=e;return(0,l.jsxs)("div",{className:"relative max-w-[280px]",children:[(0,l.jsx)(h.Z,{src:(0,m.WA)(r,a),width:"full",height:"auto",className:"mb-2 rounded-lg"}),(0,l.jsx)("div",{className:"rounded-lg bg-[rgba(0,65,93,0.4)] p-6 backdrop-blur-md",children:(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)("div",{className:"mr-2",children:(0,l.jsx)(x.Z,{variant:"white",width:25,height:25})}),(0,l.jsx)("p",{className:"mr-2 text-lg font-extrabold",children:"ORB"}),(0,l.jsxs)("div",{className:"flex-auto",children:[(0,l.jsxs)("div",{className:"flex h-7 items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("p",{className:"text-lg font-bold",children:"#"}),(0,l.jsx)("p",{className:"text-lg font-light",children:t})]}),(0,l.jsx)("button",{onClick:()=>c(),children:(0,l.jsx)(d.Z,{variant:"fullscreen",width:20,height:20,fill:"#fff"})})]}),(0,l.jsx)("hr",{className:"mt-2 w-full bg-white/30"}),n&&(0,l.jsxs)("div",{className:"my-2 flex items-center gap-1 text-sm leading-none text-dark-red",children:[(0,l.jsx)("p",{children:"Score"}),(0,l.jsx)("p",{className:"font-bold",children:n})]}),(0,l.jsx)("div",{className:"mb-1 pb-1 text-xs font-light uppercase",children:"Boost: #".concat(r,"/5")}),(0,l.jsxs)("div",{className:"progress mb-3",children:[(0,l.jsx)("div",{className:(0,m.fI)(1,r,i)}),(0,l.jsx)("div",{className:(0,m.fI)(2,r,i)}),(0,l.jsx)("div",{className:(0,m.fI)(3,r,i)}),(0,l.jsx)("div",{className:(0,m.fI)(4,r,i)}),(0,l.jsx)("div",{className:(0,m.fI)(5,r,i)})]}),(0,l.jsx)("div",{className:"flex-none",children:5===r&&(0,m.p7)(i)?(0,l.jsx)("p",{className:"mb-4 text-xs font-light",children:"ORB has been fully boosted!"}):(0,m.p7)(i)?(0,l.jsx)("p",{className:"mb-4 text-xs font-light",children:"ORB ready for further growth!"}):(0,l.jsx)("p",{className:"mb-3 animate-pulse text-xs font-light text-dark-red",children:"".concat(s," left")})})]})]})})]},t)}case"detailed":{let{id:t,faction:i,level:c,cooldownExpiry:u,score:f,selectedOrbs:j,multiSelectStarted:p,onBoostClick:g,selectOrb:v,unselectOrb:N,onDetailClick:w}=e;return(0,l.jsxs)("div",{children:[(0,l.jsx)(h.Z,{src:(0,m.WA)(c,i),width:"100%",height:"auto",className:"mb-2 rounded-lg"}),(0,l.jsx)("div",{className:"rounded-lg bg-[rgba(0,65,93,0.4)] p-6 backdrop-blur-md",children:(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)("div",{className:"mr-2",children:(0,l.jsx)(x.Z,{variant:"white",width:25,height:25})}),(0,l.jsx)("p",{className:"mr-2 text-lg font-extrabold",children:"ORB"}),(0,l.jsxs)("div",{className:"flex-auto",children:[(0,l.jsxs)("div",{className:"flex h-7 items-center justify-between",children:[(0,l.jsx)("div",{className:"flex items-center font-thin",children:(0,l.jsx)("div",{className:"mr-2 text-lg font-light",children:"#".concat(t)})}),(0,l.jsx)("button",{onClick:()=>w(),children:(0,l.jsx)(d.Z,{variant:"fullscreen",width:20,height:20,fill:"#fff"})})]}),(0,l.jsx)("hr",{className:"mt-2 w-full bg-white/30"}),f&&(0,l.jsxs)("div",{className:"my-2 flex items-center gap-1 text-sm leading-none text-dark-red",children:[(0,l.jsx)("p",{children:"Score"}),(0,l.jsx)("p",{className:"font-bold",children:f})]}),(0,l.jsx)("div",{className:"mb-1 pb-1 text-xs font-light uppercase",children:"Boost: #".concat(c,"/5")}),(0,l.jsxs)("div",{className:"progress mb-3",children:[(0,l.jsx)("div",{className:(0,m.fI)(1,c,u)}),(0,l.jsx)("div",{className:(0,m.fI)(2,c,u)}),(0,l.jsx)("div",{className:(0,m.fI)(3,c,u)}),(0,l.jsx)("div",{className:(0,m.fI)(4,c,u)}),(0,l.jsx)("div",{className:(0,m.fI)(5,c,u)})]}),5!==c&&p&&(0,m.p7)(u)?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"mb-4 text-xs font-light",children:"ORB ready for further growth!"}),(0,l.jsx)("div",{className:"flex-auto",children:(0,l.jsx)("div",{className:"flex justify-start",children:j.includes((0,a.m9)(t,32))?(0,l.jsx)("button",{className:"flex items-center gap-1",onClick:N,children:(0,l.jsx)(n(),{src:"/assets/selected_magenta.svg",alt:"selected",width:26,height:26})}):(0,l.jsx)("button",{className:"flex items-center gap-1",onClick:v,children:(0,l.jsx)(n(),{src:"/assets/selected_white.svg",alt:"selected",width:26,height:26})})})})]}):(0,l.jsx)("div",{className:"flex-none",children:5===c&&(0,m.p7)(u)?(0,l.jsx)("p",{className:"mb-4 text-xs font-light",children:"ORB has been fully boosted!"}):(0,m.p7)(u)?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"mb-4 text-xs font-light",children:"ORB ready for further growth!"}),(0,l.jsx)(o.Z,{onClick:g,disabled:!1,text:"Start Boost",type:"solid-pink"})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"mb-3 animate-pulse text-xs font-light text-dark-red",children:"".concat(s," left")}),(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"mr-3 text-lg font-thin uppercase text-white",children:"Boosting"}),(0,l.jsx)(r.Z,{size:30,className:"animate-spin duration-1500"})]})]})})]})]})})]})}}}},78181:function(e,s,t){t.d(s,{Z:function(){return a}});var l=t(85893),a=e=>{let{variant:s,width:t,height:a,fill:r}=e;switch(s){case"white":return(0,l.jsx)("svg",{width:t,height:a,viewBox:"0 0 30 30",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{id:"Exclusion_10","data-name":"Exclusion 10",d:"M15,30A15,15,0,0,1,9.161,1.179,15,15,0,0,1,20.839,28.821,14.905,14.905,0,0,1,15,30Zm-3.891-8.486c-2.731,0-4.652.7-4.78,1.748-.08.647.53,1.34,1.716,1.95a14.057,14.057,0,0,0,4.565,1.281,17.274,17.274,0,0,0,2.1.132c2.73,0,4.651-.7,4.779-1.747.164-1.336-2.654-2.786-6.281-3.232A17.278,17.278,0,0,0,11.109,21.514Z",fill:"#fff"})});case"petrol":return(0,l.jsx)("svg",{width:t,height:a,viewBox:"0 0 30 30",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{id:"Exclusion_10","data-name":"Exclusion 10",d:"M15,30A15,15,0,0,1,9.161,1.179,15,15,0,0,1,20.839,28.821,14.905,14.905,0,0,1,15,30Zm-3.891-8.486c-2.731,0-4.652.7-4.78,1.748-.08.647.53,1.34,1.716,1.95a14.057,14.057,0,0,0,4.565,1.281,17.274,17.274,0,0,0,2.1.132c2.73,0,4.651-.7,4.779-1.747.164-1.336-2.654-2.786-6.281-3.232A17.278,17.278,0,0,0,11.109,21.514Z",fill:"#00354B"})});case"hollow":return(0,l.jsx)("svg",{width:t,height:a,viewBox:"0 0 30 30",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsxs)("g",{id:"Exclusion_1","data-name":"Exclusion 1",fill:"none",children:[(0,l.jsx)("path",{d:"M15,30A15,15,0,0,1,9.161,1.179,15,15,0,0,1,20.839,28.821,14.905,14.905,0,0,1,15,30Zm-3.891-8.486c-2.731,0-4.652.7-4.78,1.748-.08.647.53,1.34,1.716,1.95a14.057,14.057,0,0,0,4.565,1.281,17.274,17.274,0,0,0,2.1.132c2.73,0,4.651-.7,4.779-1.747.164-1.336-2.654-2.786-6.281-3.232A17.278,17.278,0,0,0,11.109,21.514Z",stroke:"none"}),(0,l.jsx)("path",{d:"M 15.00010204315186 29.00020217895508 C 16.89044189453125 29.00020217895508 18.72376251220703 28.63016128540039 20.44911193847656 27.90037155151367 C 22.11610221862793 27.19526290893555 23.61344146728516 26.18563270568848 24.8995418548584 24.89955139160156 C 26.18563270568848 23.61344146728516 27.19526290893555 22.11610221862793 27.90037155151367 20.44912147521973 C 28.63016128540039 18.72376251220703 29.00020217895508 16.89044189453125 29.00020217895508 15.00010204315186 C 29.00020217895508 13.10961246490479 28.63016128540039 11.27621173858643 27.90037155151367 9.550822257995605 C 27.19525146484375 7.883801937103271 26.18563270568848 6.386472225189209 24.89955139160156 5.1004319190979 C 23.61348152160645 3.81439208984375 22.11614227294922 2.804811954498291 20.44914245605469 2.099751949310303 C 18.72379112243652 1.370012044906616 16.89047241210938 1.000002026557922 15.00010204315186 1.000002026557922 C 13.10958194732666 1.000002026557922 11.27617168426514 1.370012044906616 9.550802230834961 2.099751949310303 C 7.883781909942627 2.804821968078613 6.386452198028564 3.81439208984375 5.100421905517578 5.100411891937256 C 3.81439208984375 6.386452198028564 2.804821968078613 7.883781909942627 2.099751949310303 9.550802230834961 C 1.370012044906616 11.27617168426514 1.000002026557922 13.10958194732666 1.000002026557922 15.00010204315186 C 1.000002026557922 16.89047241210938 1.370012044906616 18.72379112243652 2.099751949310303 20.44914245605469 C 2.804811954498291 22.11614227294922 3.81439208984375 23.61348152160645 5.1004319190979 24.89955139160156 C 6.386472225189209 26.18563270568848 7.883801937103271 27.19525146484375 9.550822257995605 27.90037155151367 C 11.27621173858643 28.63016128540039 13.10961246490479 29.00020217895508 15.00010204315186 29.00020217895508 M 11.10903167724609 20.51426124572754 C 11.82850170135498 20.51424217224121 12.57464218139648 20.56103134155273 13.32688236236572 20.65335273742676 C 15.19516181945801 20.88293266296387 16.93446159362793 21.37489128112793 18.22437286376953 22.03861236572266 C 20.25881195068359 23.08542251586914 20.57308197021484 24.22640228271484 20.47841262817383 24.99975204467773 C 20.27628135681152 26.64372253417969 18.11858177185059 27.62520217895508 14.70652198791504 27.62520217895508 C 13.98628234863281 27.62517166137695 13.23976230621338 27.57829284667969 12.48785209655762 27.48589134216309 C 10.61653232574463 27.25626182556152 8.876261711120605 26.76471138000488 7.587622165679932 26.10178184509277 C 5.554471969604492 25.05586242675781 5.241062164306641 23.91393280029297 5.336162090301514 23.14015197753906 C 5.538201808929443 21.49601173400879 7.696281909942627 20.51437187194824 11.10903167724609 20.51426124572754 M 15.00010204315186 30.00020217895508 C 12.97503185272217 30.00020217895508 11.01057243347168 29.60358238220215 9.161262512207031 28.82137298583984 C 7.375051975250244 28.06584167480469 5.770882129669189 26.98426246643066 4.393311977386475 25.60665130615234 C 3.015762090682983 24.22906112670898 1.934222102165222 22.62488174438477 1.178742051124573 20.83868217468262 C 0.3965920507907867 18.98942184448242 2.043151880570804e-06 17.0250415802002 2.043151880570804e-06 15.00010204315186 C 2.043151880570804e-06 12.975022315979 0.3965920507907867 11.01055240631104 1.178742051124573 9.161262512207031 C 1.934222102165222 7.375051975250244 3.015752077102661 5.770882129669189 4.393311977386475 4.393311977386475 C 5.770882129669189 3.015752077102661 7.375051975250244 1.934222102165222 9.161262512207031 1.178742051124573 C 11.01055240631104 0.3965920507907867 12.975022315979 2.043151880570804e-06 15.00010204315186 2.043151880570804e-06 C 17.0250415802002 2.043151880570804e-06 18.98942184448242 0.3965920507907867 20.83868217468262 1.178742051124573 C 22.62488174438477 1.934222102165222 24.22906112670898 3.015762090682983 25.60665130615234 4.393311977386475 C 26.98426246643066 5.770882129669189 28.06584167480469 7.375051975250244 28.82137298583984 9.161262512207031 C 29.60358238220215 11.01057243347168 30.00020217895508 12.97503185272217 30.00020217895508 15.00010204315186 C 30.00020217895508 17.02502250671387 29.60358238220215 18.98940277099609 28.82137298583984 20.83868217468262 C 28.06584167480469 22.62486267089844 26.9842529296875 24.22904205322266 25.60665130615234 25.60665130615234 C 24.22904205322266 26.9842529296875 22.62486267089844 28.06584167480469 20.83868217468262 28.82137298583984 C 18.98940277099609 29.60358238220215 17.02502250671387 30.00020217895508 15.00010204315186 30.00020217895508 Z M 11.10906219482422 21.51426124572754 C 8.378232002258301 21.51435279846191 6.457151889801025 22.21676254272461 6.328691959381104 23.26212120056152 C 6.249122142791748 23.90956115722656 6.858682155609131 24.60223197937012 8.045071601867676 25.21255111694336 C 9.231422424316406 25.82285118103027 10.8524923324585 26.27771186828613 12.60965251922607 26.49333190917969 C 13.32149219512939 26.58081245422363 14.02699184417725 26.62517166137695 14.70656204223633 26.62520217895508 C 17.43693161010742 26.62520217895508 19.35737228393555 25.92294120788574 19.48588180541992 24.87772178649902 C 19.64947128295898 23.54137229919434 16.83185195922852 22.09157180786133 13.20491218566895 21.64588165283203 C 12.49307250976562 21.55852127075195 11.78793239593506 21.51424217224121 11.10906219482422 21.51426124572754 Z",stroke:"none",fill:"#fff"})]})})}}},71953:function(e,s,t){t.d(s,{Z:function(){return i}});var l=t(85893),a=t(67294);let r=function(e){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=(0,a.useRef)(e),[l,r]=(0,a.useState)(!1),i=(0,a.useRef)(null);return(0,a.useEffect)(()=>{let e=new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting?(r(()=>!0),s&&(e.unobserve(t.target),e.disconnect())):r(()=>!1)})},t.current);return i.current&&e.observe(i.current),()=>{i.current&&e.unobserve(i.current),e.disconnect()}},[s]),{isVisible:l,targetRef:i}};var i=e=>{let{src:s,width:t,height:i,className:n}=e,{isVisible:c,targetRef:d}=r({root:null,rootMargin:"200px",threshold:.1},!1),o=(0,a.useRef)(null),x=(0,a.useCallback)(async()=>{try{var e;await (null===(e=o.current)||void 0===e?void 0:e.play())}catch(e){}},[]),h=(0,a.useCallback)(()=>{try{var e;null===(e=o.current)||void 0===e||e.pause()}catch(e){}},[]);return(0,a.useEffect)(()=>{var e,s;(null===(e=o.current)||void 0===e?void 0:e.readyState)||null===(s=o.current)||void 0===s||s.load(),c?x():h()},[c,x,h]),(0,l.jsx)("span",{ref:d,className:"",children:(0,l.jsxs)("video",{ref:o,loop:!0,muted:!0,autoPlay:!1,playsInline:!0,preload:"none",poster:"/assets/ORB-placeholder.svg",width:t,height:i,className:n,onLoadedDataCapture:()=>{c?x():h()},children:[(0,l.jsx)("source",{type:"video/mp4",src:s}),"Your browser does not support the video tag. Please try viewing this page in a modern browser."]},s)})}},92053:function(e,s,t){t.d(s,{Z:function(){return _}});var l=t(85893),a=t(29726),r=t(78551),i=t(2130),n=t(90332),c=t(67294),d=t(58533),o=t(94549),x=t(27206),h=t(4075),m=t(77991),u=t(53319),f=t(67325),j=t(12229),p=t(25675),g=t.n(p),v=t(41664),N=t.n(v),w=t(11163),b=t(4219),C=t(44551),y=t(96035),Z=t(66240),k=t(71953),I=t(76205),B=t(92801),S=t(27431);let O=(0,l.jsx)("hr",{className:"mt-3 w-full border-t border-white border-opacity-30"});function E(e){let{tokenId:s,faction:t,level:a,cooldownExpiry:r,attributes:i}=e,d=(0,w.useRouter)(),{account:o}=(0,b.i)(),{name:x,address:h,profileImage:u}=(0,y.E)(S.Ze,s),[f,p]=(0,c.useState)(!1),v=(0,C.J)(1e3*r,(e,s,t,l)=>(l>9?l:"0"+l)+"d:"+(t>9?t:"0"+t)+"h:"+(s>9?s:"0"+s)+"m"),E=(0,c.useMemo)(()=>i.reduce((e,s)=>{let{score:t}=s;return e+t},0),[i]);return(0,l.jsxs)("div",{className:"flex h-screen w-screen select-none items-center justify-center gap-1 text-white lg:h-full lg:w-full",children:[(0,l.jsxs)("div",{className:"flex h-full w-full flex-col justify-center bg-arsenic px-5 pb-8 pt-16 lg:h-[600px] lg:w-[360px] lg:rounded-[15px] lg:bg-orb-black lg:pt-8",children:[(0,l.jsxs)("div",{className:"flex items-start",children:[(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)("p",{className:"text-[30px] font-extra-light leading-[36px] tracking-normal",children:"ORB #"}),(0,l.jsx)("p",{className:"text-[30px] font-extrabold leading-[36px] tracking-normal",children:(0,j.He)(s)})]}),(0,l.jsxs)("div",{className:"flex gap-1",children:[(0,l.jsx)("p",{className:"text-sm font-thin leading-none text-dark-red",children:"Score"}),(0,l.jsx)("p",{className:"text-sm font-bold leading-none text-dark-red",children:E})]})]}),(0,l.jsx)(N(),{href:"https://universal.page/collections/lukso/".concat(S.Ze,"/").concat((0,j.He)(s)),target:"_blank",rel:"noopener noreferrer",className:"ml-auto h-[26px] w-[26px]",children:(0,l.jsx)(I.Z,{variant:"universal-page",width:26,height:26})})]}),O,(0,l.jsx)(k.Z,{src:(0,B.WA)(a,t),className:"mx-auto mt-6 object-contain object-center lg:hidden",height:280,width:280}),(0,l.jsx)("div",{className:"my-4 grid w-full grid-cols-3 justify-between gap-4",children:i.map(e=>{let{key:s,value:t,rarity:a}=e;return(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-xs",children:s}),(0,l.jsx)("div",{className:"text-xs font-bold",children:t}),(0,l.jsx)("p",{className:"text-sm text-dark-red",children:"".concat(parseFloat(a).toFixed(2)," %")})]},s)})}),O,(0,l.jsxs)("div",{className:"mt-4 flex flex-col items-start gap-y-[15px] lg:gap-x-[0]",children:[(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)("p",{children:"Level:"}),(0,l.jsx)("p",{children:"#".concat(a,"/5")})]}),(0,l.jsxs)("div",{className:"progress",children:[(0,l.jsx)("div",{className:(0,B.fI)(1,a,r)}),(0,l.jsx)("div",{className:(0,B.fI)(2,a,r)}),(0,l.jsx)("div",{className:(0,B.fI)(3,a,r)}),(0,l.jsx)("div",{className:(0,B.fI)(4,a,r)}),(0,l.jsx)("div",{className:(0,B.fI)(5,a,r)})]}),5===a?(0,l.jsx)("p",{className:"mb-4 text-xs font-light",children:"ORB has been fully boosted!"}):(0,B.p7)(r)?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("p",{className:"text-xs",children:"ORB ready for further growth!"}),(null==o?void 0:o.toLowerCase())===h.toLowerCase()?(0,l.jsx)(Z.Z,{onClick:async()=>d.push((0,B._w)([s])),text:"Start BOOST",disabled:!1,type:"solid-red"}):(0,l.jsx)(l.Fragment,{})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("p",{className:"animate-pulse text-xs text-dark-red",children:v}),(null==o?void 0:o.toLowerCase())===h.toLowerCase()?(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"mr-3 text-lg font-thin uppercase text-white",children:"BOOSTING"}),(0,l.jsx)(n.Z,{size:30,className:"animate-spin duration-1500"})]}):(0,l.jsx)(l.Fragment,{})]})]}),O,(0,l.jsxs)("div",{className:"mt-4 flex items-center text-xs",children:[u?f?(0,l.jsx)("div",{className:"overflow-hidden rounded-full",children:(0,l.jsx)(m.Z,{variant:"profile-default",width:32,height:32})}):(0,l.jsx)(g(),{src:(0,B.pZ)(u),alt:"Profile",height:32,width:32,className:"rounded-full object-cover",onError:()=>p(!0)}):(0,l.jsx)("div",{className:"overflow-hidden rounded-full",children:(0,l.jsx)(m.Z,{variant:"profile-default",width:32,height:32})}),(0,l.jsxs)("span",{className:"ml-[10px] flex justify-center gap-2",children:[(0,l.jsx)("p",{children:"Owned by:"}),(0,l.jsx)("p",{children:x})]}),(0,l.jsx)(N(),{href:"/profile/".concat(h),target:"_self",className:"ml-auto",children:(0,l.jsx)("div",{className:"rounded-lg border border-white fill-white p-2 transition-all duration-300 ease-in-out hover:bg-white hover:fill-black",children:(0,l.jsx)(m.Z,{variant:"user",width:10,height:10})})})]})]}),(0,l.jsx)(k.Z,{src:(0,B.WA)(a,t),height:600,width:600,className:"hidden rounded-[15px] bg-orb-black object-contain lg:block"})]})}var R=t(18570),F=t(77933),_=e=>{let{tokenIds:s,extraOptions:t,getListItem:j}=e,{isModalOpen:p,modalId:g,openModal:v,closeModal:N}=(0,o.d)(),[w,b]=(0,c.useState)(F.T.id),[C,y]=(0,c.useState)(F.N9.asc),[Z,k]=(0,c.useState)(""),[I,O]=(0,c.useState)([]),[_,P]=(0,c.useState)([]),{data:M,isLoading:L,fetchNextPage:A,hasNextPage:T}=(0,a.N)({queryKey:["orbs",JSON.stringify(s),w,C,Z,JSON.stringify(I)],queryFn:async e=>{let{pageParam:t}=e;try{if("score"===w){let e=(await (0,i.ZP)("https://graph.chillwhales.dev/subgraphs/name/chillwhales_v3",F.Eh,{skip:0,first:s.length,orderBy:F.T.id,orderDirection:C,tokenIds:s,searchString:Z,attributes:I.map(e=>{let{key:s,value:t}=e;return"".concat(S.Ze.toLowerCase()," - ").concat(s," - ").concat(t)})})).orbs.sort((e,s)=>s.attributes.reduce((e,s)=>{let{score:t}=s;return e+t},0)-e.attributes.reduce((e,s)=>{let{score:t}=s;return e+t},0)).slice(6*t,6*(t+1));return{orbs:e,...0!==t&&{previousId:t-1},...0!==e.length&&6===e.length&&{nextId:t+1}}}{let{orbs:e}=await (0,i.ZP)("https://graph.chillwhales.dev/subgraphs/name/chillwhales_v3",F.Eh,{skip:6*t,first:6,orderBy:w,orderDirection:C,tokenIds:s,searchString:Z,attributes:I.map(e=>{let{key:s,value:t}=e;return"".concat(S.Ze," - ").concat(s," - ").concat(t)})});return console.log(I.map(e=>{let{key:s,value:t}=e;return"".concat(S.Ze," - ").concat(s," - ").concat(t)})),{orbs:e,...0!==t&&{previousId:t-1},...0!==e.length&&6===e.length&&{nextId:t+1}}}}catch(e){return console.error("Failed to get ORBS from subraph.",e),{orbs:[]}}},initialPageParam:0,getPreviousPageParam:e=>e.previousId,getNextPageParam:e=>e.nextId});(0,c.useEffect)(()=>{M?P(M.pages.flatMap(e=>{let{orbs:s}=e;return s})):P([])},[M]);let{data:W}=(0,r.a)({queryKey:["attributes",S.Ze],queryFn:async()=>{try{let{attributes:e}=await (0,i.ZP)("https://graph.chillwhales.dev/subgraphs/name/chillwhales_v3",F.l4,{collectionAddress:S.Ze.toLowerCase(),first:1e3,skip:0});return[...new Set(e.map(e=>{let{key:s}=e;return s}))].map(s=>({type:s,values:e.filter(e=>{let{key:t}=e;return t===s}).map(e=>{let{value:s,rarity:t,score:l}=e;return{name:s,rarity:parseFloat(t),score:l}})}))}catch(e){return console.error("Failed getting ORBS attributes from the subgraph",e),[]}}});return(0,l.jsxs)("div",{className:"flex flex-col",children:[s.length&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"relative mb-4 flex w-full justify-center",children:(0,l.jsx)("div",{className:"w-[320px]",children:(0,l.jsx)(R.Z,{placeholder:"Search ORBS...",onSearch:e=>{k(e)}})})}),(0,l.jsxs)("div",{className:"relative flex w-full flex-col items-center justify-center gap-2 pb-12",children:[t&&t,(0,l.jsxs)("div",{className:"flex flex-wrap justify-center gap-2",children:[(0,l.jsx)(f.Z,{placeholder:"Sort by",list:[{name:"Name",func:()=>(b(F.T.id),y(F.N9.asc))},{name:"Level",func:()=>(b(F.T.level),y(F.N9.desc))},{name:"Cooldown",func:()=>(b(F.T.cooldownExpiry),y(F.N9.asc))},{name:"Score",func:()=>b("score")}]}),W&&(0,l.jsx)(x.Z,{attributes:W,onClick:e=>{let{key:s,value:t}=e,l=new Map;I.forEach(e=>{let{key:s,value:t}=e;return l.set(s,{key:s,value:t})}),l.set(s,{key:s,value:t}),O([...l.values()])}})]}),(0,l.jsx)(h.Z,{attributes:I,onRemove:e=>{let{key:s}=e;return O(I.filter(e=>s!==e.key))}})]})]}),s.length?L?(0,l.jsxs)("div",{className:"relative flex flex-grow flex-col items-center justify-center overflow-hidden",children:[(0,l.jsx)(n.Z,{size:160,className:"animate-spin duration-1500"}),(0,l.jsx)("p",{className:"my-10 text-2xl font-thin",children:"Loading ORBS..."})]}):_.length?(0,l.jsx)("div",{className:"mx-auto max-w-5xl",children:(0,l.jsx)(d.Z,{className:"!overflow-hidden",dataLength:_.length,next:A,hasMore:T,loader:(0,l.jsxs)("div",{className:"relative mt-8 flex flex-col items-center justify-center gap-2",children:[(0,l.jsx)("p",{className:"text-lg font-thin",children:"Loading..."}),(0,l.jsx)(n.Z,{size:64,className:"animate-spin duration-1500"})]}),children:(0,l.jsx)("div",{className:"grid grid-cols-1 gap-12 sm:grid-cols-2 lg:grid-cols-3",children:_.map(e=>{let{tokenId:s,level:t,cooldownExpiry:a,faction:r,attributes:i}=e;return(0,l.jsx)("div",{children:j({tokenId:s,level:t,cooldownExpiry:a,faction:r,score:i.reduce((e,s)=>{let{score:t}=s;return e+t},0)},v)},s)})})})}):(0,l.jsxs)("div",{className:"relative flex flex-grow flex-col items-center justify-center",children:[(0,l.jsx)("p",{className:"my-10 px-10 text-center text-xl font-light",children:"No search results found"}),(0,l.jsx)("div",{className:"mx-auto flex justify-center text-center",children:(0,l.jsx)(m.Z,{variant:"big-x",width:250,height:250})})]}):(0,l.jsxs)("div",{className:"relative flex flex-grow flex-col items-center justify-center",children:[(0,l.jsx)("p",{className:"my-10 px-10 text-center text-xl font-light",children:"Profile has no ORBS"}),(0,l.jsx)("div",{className:"mx-auto flex justify-center text-center",children:(0,l.jsx)(m.Z,{variant:"big-x",width:250,height:250})})]}),_&&(0,l.jsx)(u.Z,{tokenIds:_.map(e=>{let{tokenId:s}=e;return s}),startIndex:_.map(e=>{let{tokenId:s}=e;return s}).indexOf(g),isOpen:p,closeModal:N,tokenIdDetails:(e,s)=>{var t,a,r,i;return(0,l.jsx)(E,{tokenId:e,faction:(0,B.WZ)((null===(t=_.find(s=>{let{tokenId:t}=s;return t===e}))||void 0===t?void 0:t.faction)||"Neutral"),level:(null===(a=_.find(s=>{let{tokenId:t}=s;return t===e}))||void 0===a?void 0:a.level)||0,cooldownExpiry:(null===(r=_.find(s=>{let{tokenId:t}=s;return t===e}))||void 0===r?void 0:r.cooldownExpiry)||0,attributes:(null===(i=_.find(s=>s.tokenId===e))||void 0===i?void 0:i.attributes)||[]})}})]})}}}]);