"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1871],{47032:function(e,t,s){s.d(t,{Z:function(){return x}});var l=s(85893),a=s(92801),r=s(12229),i=s(25675),n=s.n(i),c=s(39332),d=s(77991),o=s(66240);function x(e){let{tokenId:t,score:s,image:i,revealed:x,onDetailClick:h}=e,m=(0,c.useRouter)();return(0,l.jsxs)("div",{className:"relative mt-[122px] min-w-[280px] rounded-[15px] bg-[rgba(0,65,93,0.4)] px-[25px] pb-[13px] pt-[100px] backdrop-blur-md",children:[(0,l.jsx)("div",{className:"absolute -top-[120px] left-[5px] z-[1] w-[220px]",children:(0,l.jsx)(n(),{className:"mask-image",src:i,alt:"Chillwhale",width:180,height:180})}),(0,l.jsxs)("div",{className:"box",children:[(0,l.jsxs)("div",{className:"flex justify-between border-b border-solid border-white/30",children:[(0,l.jsxs)("div",{className:"flex flex-col pb-3",children:[(0,l.jsxs)("div",{className:"flex items-center text-2xl",children:[(0,l.jsx)("p",{className:"font-thin",children:"B.A.D. #"}),(0,l.jsx)("p",{className:"font-bold",children:(0,r.He)(t)})]}),(0,l.jsxs)("div",{className:"flex items-center gap-1 text-xs leading-none text-dark-red",children:[(0,l.jsx)("p",{children:"Score"}),(0,l.jsx)("p",{className:"font-bold",children:s})]})]}),(0,l.jsx)("button",{className:"mt-[9px] h-max",onClick:()=>h(),children:(0,l.jsx)(d.Z,{variant:"fullscreen",width:20,height:20,fill:"#fff"})})]}),(0,l.jsx)("div",{className:"flex flex-col gap-2 py-3",children:(0,l.jsx)("div",{className:"flex items-center justify-between",children:x?(0,l.jsx)("p",{className:"text-xs font-light",children:"whatcha gonna do when they come for you? \uD83D\uDCA5"}):(0,l.jsx)("div",{className:"w-full",children:(0,l.jsx)(o.Z,{onClick:()=>m.push((0,a.O_)(t)),disabled:x,text:"Reveal B.A.D.",type:"solid-pink"})})})})]})]})}},96656:function(e,t,s){s.d(t,{Z:function(){return C}});var l=s(85893),a=s(29726),r=s(78551),i=s(2130),n=s(90332),c=s(67294),d=s(58533),o=s(94549),x=s(27206),h=s(4075),m=s(77991),u=s(67325),f=s(18570),p=s(77933),g=s(27431),j=s(92801),v=s(12229),N=s(25675),w=s.n(N),b=s(41664),y=s.n(b),k=s(11163),Z=s(4219),D=s(96035),_=s(66240),A=s(76205);let F=(0,l.jsx)("hr",{className:"mt-3 w-full border-t border-white border-opacity-30"});var I=e=>{let{tokenId:t,revealed:s,image:a,attributes:r,priority:i=!1}=e,n=(0,k.useRouter)(),{account:d}=(0,Z.i)(),{name:o,address:x,profileImage:h}=(0,D.E)(g.iF,t),[u,f]=(0,c.useState)(!1),p=(0,c.useMemo)(()=>r.reduce((e,t)=>{let{score:s}=t;return e+s},0),[r]);return(0,l.jsxs)("div",{className:"flex h-screen w-screen select-none items-center justify-center gap-1 text-white lg:h-full lg:w-full",children:[(0,l.jsxs)("div",{className:"flex h-full w-full flex-col justify-center bg-bad-gray-400 px-5 pb-8 pt-16 lg:h-[600px] lg:w-[360px] lg:rounded-[15px] lg:bg-bad-gray-500 lg:pt-8",children:[(0,l.jsxs)("div",{className:"flex items-start",children:[(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsxs)("div",{className:"flex gap-1",children:[(0,l.jsx)("p",{className:"text-[30px] font-extra-light leading-[36px] tracking-normal",children:"B.A.D. #"}),(0,l.jsx)("p",{className:"text-[30px] font-extrabold leading-[36px] tracking-normal",children:(0,v.He)(t)})]}),(0,l.jsxs)("div",{className:"flex gap-1",children:[(0,l.jsx)("p",{className:"text-sm font-thin leading-none text-dark-red",children:"Score"}),(0,l.jsx)("p",{className:"text-sm font-bold leading-none text-dark-red",children:p})]})]}),(0,l.jsx)(y(),{href:"https://universal.page/collections/lukso/".concat(g.iF,"/").concat((0,v.He)(t)),target:"_blank",rel:"noopener noreferrer",className:"ml-auto h-[26px] w-[26px]",children:(0,l.jsx)(A.Z,{variant:"universal-page",width:26,height:26})})]}),F,(0,l.jsx)(w(),{src:a,alt:"B.A.D.",className:"mx-auto mt-6 object-contain object-center lg:hidden",priority:i,height:280,width:280}),(0,l.jsx)("div",{className:"my-4 grid w-full grid-cols-3 justify-between gap-4",children:r.map(e=>{let{key:t,value:s,rarity:a}=e;return(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm",children:t}),(0,l.jsx)("p",{className:"text-sm font-bold",children:s}),(0,l.jsx)("p",{className:"text-sm text-dark-red",children:"".concat(parseFloat(a).toFixed(2)," %")})]},t)})}),F,s?(0,l.jsx)("p",{className:"mt-4 text-sm font-light",children:"whatcha gonna do when they come for you? \uD83D\uDCA5"}):(0,l.jsxs)("div",{className:"mt-4 flex flex-col gap-2",children:[(null==d?void 0:d.toLowerCase())===x.toLowerCase()&&(0,l.jsx)("div",{className:"w-max",children:(0,l.jsx)(_.Z,{onClick:()=>n.push((0,j.O_)(t)),disabled:s,text:"Reveal B.A.D.",type:"solid-pink"})}),(0,l.jsx)("p",{className:"text-sm font-light",children:"B.A.D. not revelead yet"})]}),F,(0,l.jsxs)("div",{className:"mt-4 flex items-center text-xs",children:[h?u?(0,l.jsx)("div",{className:"overflow-hidden rounded-full",children:(0,l.jsx)(m.Z,{variant:"profile-default",width:32,height:32})}):(0,l.jsx)(w(),{src:(0,j.pZ)(h),alt:"Profile",height:32,width:32,className:"rounded-full object-cover",onError:()=>f(!0)}):(0,l.jsx)("div",{className:"overflow-hidden rounded-full",children:(0,l.jsx)(m.Z,{variant:"profile-default",width:32,height:32})}),(0,l.jsxs)("span",{className:"ml-[10px] flex justify-center gap-2",children:[(0,l.jsx)("p",{children:"Owned by:"}),(0,l.jsx)("p",{children:o})]}),(0,l.jsx)(y(),{href:"/profile/".concat(x),target:"_self",className:"ml-auto",children:(0,l.jsx)("div",{className:"rounded-lg border border-white fill-white p-2 transition-all duration-300 ease-in-out hover:bg-white hover:fill-black",children:(0,l.jsx)(m.Z,{variant:"user",width:10,height:10})})})]})]}),(0,l.jsx)(w(),{src:a,alt:"B.A.D.",height:600,width:600,priority:i,className:"hidden rounded-[15px] bg-bad-gray-500 object-contain lg:block"})]})},S=s(53319);function C(e){let{tokenIds:t,extraOptions:s,getListItem:v}=e,{isModalOpen:N,modalId:w,openModal:b,closeModal:y}=(0,o.d)(),[k,Z]=(0,c.useState)(p.rw.id),[D,_]=(0,c.useState)(p.N9.asc),[A,F]=(0,c.useState)(""),[C,P]=(0,c.useState)([]),[B,L]=(0,c.useState)(),[E,O]=(0,c.useState)([]),{data:R,isLoading:q,fetchNextPage:H,hasNextPage:M}=(0,a.N)({queryKey:["bads",JSON.stringify(t),k,D,A,JSON.stringify(C),B],queryFn:async e=>{let{pageParam:s}=e;try{if("score"===k){let e=(await (0,i.ZP)("https://graph.chillwhales.dev/subgraphs/name/chillwhales_v3",p.An,{skip:0,first:t.length,orderBy:p.rw.id,orderDirection:D,tokenIds:t,where:{id_in:t,name_contains_nocase:A,attributes_contains_nocase:C.map(e=>{let{key:t,value:s}=e;return"".concat(g.iF.toLowerCase()," - ").concat(t," - ").concat(s)}),...void 0!==B&&{revealed:B}}})).bads.sort((e,t)=>t.attributes.reduce((e,t)=>{let{score:s}=t;return e+s},0)-e.attributes.reduce((e,t)=>{let{score:s}=t;return e+s},0)).slice(6*s,6*(s+1));return{bads:e,...0!==s&&{previousId:s-1},...0!==e.length&&6===e.length&&{nextId:s+1}}}{let{bads:e}=await (0,i.ZP)("https://graph.chillwhales.dev/subgraphs/name/chillwhales_v3",p.An,{skip:6*s,first:6,orderBy:k,orderDirection:D,where:{id_in:t,name_contains_nocase:A,attributes_contains_nocase:C.map(e=>{let{key:t,value:s}=e;return"".concat(g.iF.toLowerCase()," - ").concat(t," - ").concat(s)}),...void 0!==B&&{revealed:B}}});return{bads:e,...0!==s&&{previousId:s-1},...0!==e.length&&6===e.length&&{nextId:s+1}}}}catch(e){return console.error("Failed to get B.A.D. from subraph.",e),{bads:[]}}},initialPageParam:0,getPreviousPageParam:e=>e.previousId,getNextPageParam:e=>e.nextId});(0,c.useEffect)(()=>{R?O(R.pages.flatMap(e=>{let{bads:t}=e;return t})):O([])},[R]);let{data:G}=(0,r.a)({queryKey:["attributes",g.iF],queryFn:async()=>{try{let{attributes:e}=await (0,i.ZP)("https://graph.chillwhales.dev/subgraphs/name/chillwhales_v3",p.l4,{collectionAddress:g.iF.toLowerCase(),first:1e3,skip:0});return[...new Set(e.map(e=>{let{key:t}=e;return t}))].map(t=>({type:t,values:e.filter(e=>{let{key:s}=e;return s===t}).map(e=>{let{value:t,rarity:s,score:l}=e;return{name:t,rarity:parseFloat(s),score:l}})}))}catch(e){return console.error("Failed getting B.A.D. attributes from the subgraph",e),[]}}});return(0,l.jsxs)("div",{className:"flex flex-col",children:[t.length&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"relative mb-4 flex w-full justify-center",children:(0,l.jsx)("div",{className:"w-[320px]",children:(0,l.jsx)(f.Z,{placeholder:"Search B.A.D....",onSearch:e=>{F(e)}})})}),(0,l.jsxs)("div",{className:"relative flex w-full flex-col items-center justify-center gap-2 pb-12",children:[s&&s,(0,l.jsxs)("div",{className:"flex flex-wrap justify-center gap-2",children:[(0,l.jsx)(u.Z,{placeholder:"Sort by",list:[{name:"Name",func:()=>(Z(p.rw.id),_(p.N9.asc))},{name:"Rarity",func:()=>Z("score")}]}),(0,l.jsx)(u.Z,{placeholder:"Views",list:[{name:"All",func:()=>L(void 0)},{name:"Revealed",func:()=>L(!0)},{name:"Unrevealed",func:()=>L(!1)}]}),G&&(0,l.jsx)(x.Z,{attributes:G,onClick:e=>{let{key:t,value:s}=e,l=new Map;C.forEach(e=>{let{key:t,value:s}=e;return l.set(t,{key:t,value:s})}),l.set(t,{key:t,value:s}),P([...l.values()])}})]}),(0,l.jsx)(h.Z,{attributes:C,onRemove:e=>{let{key:t}=e;return P(C.filter(e=>t!==e.key))}})]})]}),t.length?q?(0,l.jsxs)("div",{className:"relative flex flex-grow flex-col items-center justify-center overflow-hidden",children:[(0,l.jsx)(n.Z,{size:160,className:"animate-spin duration-1500"}),(0,l.jsx)("p",{className:"my-10 text-2xl font-thin",children:"Loading B.A.D..."})]}):E.length?(0,l.jsx)("div",{className:"mx-auto max-w-5xl",children:(0,l.jsx)(d.Z,{className:"!overflow-hidden",dataLength:E.length,next:H,hasMore:M,loader:(0,l.jsxs)("div",{className:"relative mt-8 flex flex-col items-center justify-center gap-2",children:[(0,l.jsx)("p",{className:"text-lg font-thin",children:"Loading..."}),(0,l.jsx)(n.Z,{size:64,className:"animate-spin duration-1500"})]}),children:(0,l.jsx)("div",{className:"grid grid-cols-1 gap-12 sm:grid-cols-2 lg:grid-cols-3",children:E.map(e=>(0,l.jsx)("div",{children:v(e,b)},crypto.randomUUID()))})})}):(0,l.jsxs)("div",{className:"relative flex flex-grow flex-col items-center justify-center",children:[(0,l.jsx)("p",{className:"my-10 px-10 text-center text-xl font-light",children:"No search results found"}),(0,l.jsx)("div",{className:"mx-auto flex justify-center text-center",children:(0,l.jsx)(m.Z,{variant:"big-x",width:250,height:250})})]}):(0,l.jsxs)("div",{className:"relative flex flex-grow flex-col items-center justify-center",children:[(0,l.jsx)("p",{className:"my-10 px-10 text-center text-xl font-light",children:"Profile has no B.A.D."}),(0,l.jsx)("div",{className:"mx-auto flex justify-center text-center",children:(0,l.jsx)(m.Z,{variant:"big-x",width:250,height:250})})]}),E&&(0,l.jsx)(S.Z,{tokenIds:E.map(e=>{let{tokenId:t}=e;return t}),startIndex:E.map(e=>{let{tokenId:t}=e;return t}).indexOf(w),isOpen:N,closeModal:y,tokenIdDetails:(e,t)=>{var s,a,r,i;return(0,l.jsx)(I,{tokenId:e,revealed:(null===(s=E.find(t=>t.tokenId===e))||void 0===s?void 0:s.revealed)||!1,image:(0,j.pZ)((null===(r=E.find(t=>t.tokenId===e))||void 0===r?void 0:null===(a=r.alphaImage)||void 0===a?void 0:a.url)||"https://ipfs.chillwhales.dev/ipfs/QmbDGQP3HmGFvjA4qk9mGgqsH9yQWG9g5XZtfLPoEZKkhQ"),attributes:(null===(i=E.find(t=>t.tokenId===e))||void 0===i?void 0:i.attributes)||[]})}})]})}}}]);