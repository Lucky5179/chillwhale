"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7908],{18946:function(e,l,t){t.d(l,{Z:function(){return c}});var a=t(85893),s=t(12229);t(67294);var r=t(30322),n=t(77991),i=t(25675),d=t.n(i),c=e=>{let{details:l}=(0,r.J)(e.tokenId);switch(e.variant){case"simple":{let{tokenId:t,showImage:r,onDetailClick:i}=e;return(0,a.jsxs)("div",{className:"relative w-[280px]",children:[(0,a.jsx)("div",{className:"relative mb-2 h-[280px] w-[280px] overflow-hidden rounded-lg bg-[rgba(0,65,93,0.4)] backdrop-blur-md",children:r&&(null==l?void 0:l.image)&&(0,a.jsx)(d(),{src:l.image,alt:"Burntwhale Image",className:"object-cover object-center",fill:!0})}),(0,a.jsx)("div",{className:"rounded-lg bg-[rgba(0,65,93,0.4)] p-6 backdrop-blur-md",children:(0,a.jsx)("div",{className:r?"box":"box no-image",children:(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center text-2xl",children:[(0,a.jsx)("p",{className:"font-thin",children:"Burntwhale #"}),(0,a.jsx)("p",{className:"font-bold",children:(0,s.He)(t)})]}),(0,a.jsx)("button",{onClick:()=>i(),children:(0,a.jsx)(n.Z,{variant:"fullscreen",width:20,height:20,fill:"#fff"})})]})})})]})}case"detailed":return(0,a.jsx)(a.Fragment,{})}}},53403:function(e,l,t){t.d(l,{Z:function(){return y}});var a=t(85893),s=t(29726),r=t(2130),n=t(90332),i=t(67294),d=t(58533),c=t(94549),o=t(77991),h=t(12229),x=t(25675),u=t.n(x),m=t(41664),f=t.n(m),g=t(30322),p=t(76205),j=t(27431);let v=(0,a.jsx)("hr",{className:"mt-3 w-full border-t border-white border-opacity-30"});var b=e=>{let{tokenId:l,priority:t=!1}=e,{details:s}=(0,g.J)(l),[r,n]=(0,i.useState)(!1);return(0,a.jsxs)("div",{className:"flex h-screen w-screen select-none items-center justify-center gap-1 text-white lg:h-full lg:w-full",children:[(0,a.jsxs)("div",{className:"flex h-full w-full flex-col justify-center bg-classic-blue-gray-normal px-5 pb-8 pt-16 lg:h-[600px] lg:w-[360px] lg:rounded-[15px] lg:bg-classic-blue-gray-dark lg:pt-8",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsxs)("div",{className:"flex gap-1",children:[(0,a.jsx)("p",{className:"text-[30px] font-extra-light leading-[36px] tracking-normal",children:"Burntwhale #"}),(0,a.jsx)("p",{className:"text-[30px] font-extrabold leading-[36px] tracking-normal",children:(0,h.He)(l)})]}),(0,a.jsx)(f(),{href:"https://universal.page/collections/lukso/".concat(j.Sw,"/").concat((0,h.He)(l)),target:"_blank",rel:"noopener noreferrer",className:"ml-auto h-[26px] w-[26px]",children:(0,a.jsx)(p.Z,{variant:"universal-page",width:26,height:26})})]}),v,s&&s.image&&(0,a.jsx)(u(),{src:s.image,alt:"Burntwhale",className:"mx-auto mt-6 object-contain object-center lg:hidden",priority:t,height:280,width:280}),(null==s?void 0:s.attributes)?(0,a.jsx)("div",{className:"my-4 grid w-full grid-cols-3 justify-between gap-4",children:null==s?void 0:s.attributes.map(e=>{let{key:l,value:t}=e;return(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs",children:l}),(0,a.jsx)("div",{className:"text-xs font-bold",children:t})]},crypto.randomUUID())})}):(0,a.jsxs)("div",{className:"flex items-center justify-center gap-4",children:[(0,a.jsx)("p",{className:"text-2xl font-thin",children:"Loading attributes"}),(0,a.jsxs)("div",{className:"mt-1 flex flex-row gap-2",children:[(0,a.jsx)("div",{className:"h-4 w-4 animate-bounce rounded-full bg-dark-gray"}),(0,a.jsx)("div",{className:"h-4 w-4 animate-bounce rounded-full bg-dark-gray [animation-delay:-.3s]"}),(0,a.jsx)("div",{className:"h-4 w-4 animate-bounce rounded-full bg-dark-gray [animation-delay:-.5s]"})]})]}),v,(0,a.jsxs)("div",{className:"mt-4 flex items-center text-xs",children:[s&&s.holder.profileImage?r?(0,a.jsx)("div",{className:"overflow-hidden rounded-full",children:(0,a.jsx)(o.Z,{variant:"profile-default",width:32,height:32})}):(0,a.jsx)(u(),{src:s.holder.profileImage,alt:"Profile",height:32,width:32,className:"rounded-full object-cover",onError:()=>n(!0)}):(0,a.jsx)("div",{className:"overflow-hidden rounded-full",children:(0,a.jsx)(o.Z,{variant:"profile-default",width:32,height:32})}),(0,a.jsxs)("span",{className:"ml-[10px] flex justify-center gap-2",children:[(0,a.jsx)("p",{children:"Owned by:"}),(0,a.jsx)("p",{children:s&&s.holder.name?s.holder.name:"Anonymous"})]}),(0,a.jsx)(f(),{href:"/profile/".concat(null==s?void 0:s.holder.address),target:"_self",className:"ml-auto",children:(0,a.jsx)("div",{className:"rounded-lg border border-white fill-white p-2 transition-all duration-300 ease-in-out hover:bg-white hover:fill-black",children:(0,a.jsx)(o.Z,{variant:"user",width:10,height:10})})})]})]}),s&&s.image&&(0,a.jsx)(u(),{src:s.image,alt:"Burntwhale",height:600,width:600,priority:t,className:"hidden rounded-[15px] bg-chillwhale-gray-600 object-contain lg:block"})]})},w=t(53319),N=t(77933);function y(e){let{tokenIds:l,extraOptions:t,getListItem:h}=e,{isModalOpen:x,modalId:u,openModal:m,closeModal:f}=(0,c.d)(),[g,p]=(0,i.useState)([]),{data:j,isLoading:v,fetchNextPage:y,hasNextPage:k}=(0,s.N)({queryKey:["burntwhales",JSON.stringify(l)],queryFn:async e=>{let{pageParam:t}=e;try{let{burntwhales:e}=await (0,r.ZP)("https://graph.chillwhales.dev/subgraphs/name/chillwhales_v3",N.EA,{skip:6*t,first:6,where:{id_in:l}});return{burntwhales:e,...0!==t&&{previousId:t-1},...0!==e.length&&6===e.length&&{nextId:t+1}}}catch(e){return console.error("Failed to get burntwhales from subraph.",e),{burntwhales:[]}}},initialPageParam:0,getPreviousPageParam:e=>e.previousId,getNextPageParam:e=>e.nextId});return(0,i.useEffect)(()=>{j?p(j.pages.flatMap(e=>{let{burntwhales:l}=e;return l})):p([])},[j]),(0,a.jsxs)("div",{className:"flex flex-col",children:[l.length?v?(0,a.jsxs)("div",{className:"relative flex flex-grow flex-col items-center justify-center overflow-hidden",children:[(0,a.jsx)(n.Z,{size:160,className:"animate-spin duration-1500"}),(0,a.jsx)("p",{className:"my-10 text-2xl font-thin",children:"Loading burntwhales.."})]}):g.length?(0,a.jsx)("div",{className:"mx-auto max-w-5xl",children:(0,a.jsx)(d.Z,{className:"!overflow-hidden",dataLength:g.length,next:y,hasMore:k,loader:(0,a.jsxs)("div",{className:"relative mt-8 flex flex-col items-center justify-center gap-2",children:[(0,a.jsx)("p",{className:"text-lg font-thin",children:"Loading..."}),(0,a.jsx)(n.Z,{size:64,className:"animate-spin duration-1500"})]}),children:(0,a.jsx)("div",{className:"grid grid-cols-1 gap-12 sm:grid-cols-2 lg:grid-cols-3",children:g.map(e=>(0,a.jsx)("div",{children:h(e,m)},crypto.randomUUID()))})})}):(0,a.jsxs)("div",{className:"relative flex flex-grow flex-col items-center justify-center",children:[(0,a.jsx)("p",{className:"my-10 px-10 text-center text-xl font-light",children:"No search results found"}),(0,a.jsx)("div",{className:"mx-auto flex justify-center text-center",children:(0,a.jsx)(o.Z,{variant:"big-x",width:250,height:250})})]}):(0,a.jsxs)("div",{className:"relative flex flex-grow flex-col items-center justify-center",children:[(0,a.jsx)("p",{className:"my-10 px-10 text-center text-xl font-light",children:"Profile has no burntwhales"}),(0,a.jsx)("div",{className:"mx-auto flex justify-center text-center",children:(0,a.jsx)(o.Z,{variant:"big-x",width:250,height:250})})]}),g&&(0,a.jsx)(w.Z,{tokenIds:g.map(e=>{let{tokenId:l}=e;return l}),startIndex:g.map(e=>{let{tokenId:l}=e;return l}).indexOf(u),isOpen:x,closeModal:f,tokenIdDetails:(e,l)=>(0,a.jsx)(b,{tokenId:e})})]})}},30322:function(e,l,t){t.d(l,{J:function(){return n}});var a=t(67294),s=t(27431),r=t(92801);function n(e){let[l,t]=(0,a.useState)(),[n,i]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{(async()=>{let l='\n            query GetBurntwhaleDetails {\n              token: Token_by_pk(\n                  id: "'.concat(s.Sw,"-").concat(e,'"\n              ) {\n                attributes {\n                  key\n                  value\n                  attributeType\n                }\n                holders(where: { balance: { _gt: "0" } }) {\n                  profile {\n                    address: id\n                    name\n                    profileImages(order_by: { width: desc }) {\n                      url\n                    }\n                  }\n                }\n                images(order_by: { width: desc }) {\n                  url\n                }\n              }\n            }\n            ');try{let e=await fetch(s.nF,{method:"POST",body:JSON.stringify({query:l}),headers:{"Content-Type":"application/json"}}),n=await e.json();if(n.data){let{data:{token:e}}=n;if(e){var a;t({image:(0,r.pZ)(e.images[0].url),attributes:e.attributes.map(e=>{let{key:l,value:t}=e;return{key:l,value:t}}),holder:{address:e.holders[0].profile.address,name:e.holders[0].profile.name,profileImage:(null===(a=e.holders[0].profile.profileImages)||void 0===a?void 0:a.length)?(0,r.pZ)(e.holders[0].profile.profileImages[0].url):void 0}})}}else console.error(n)}catch(e){console.error("Error fetching data:",e)}i(!1)})()},[e]),{isLoading:n,details:l}}}}]);